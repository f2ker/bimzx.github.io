webpackJsonp([1],{"+fMA":function(e,t,n){e.exports=n.p+"static/img/button.d300c1d.png"},"54t2":function(e,t){},"8B9R":function(e,t){},"9Av9":function(e,t){},"C/5X":function(e,t,n){e.exports=n.p+"static/img/header.9f2de8a.png"},C0zD:function(e,t){},DhNm:function(e,t){},IP1J:function(e,t){},K1vz:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("OksV"),o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"BIM-header"},[t("div",{staticClass:"header-content"},[t("h1",[this._v("BIM中心数据大屏")])]),this._v(" "),t("img",{staticClass:"header-img",attrs:{src:n("C/5X"),alt:""}})])}]};var a,r=n("owSs")({},o,!1,function(e){n("IP1J")},"data-v-b48c223c",null).exports,s=n("GiDs").a.create({baseURL:"https://api.yensean.com/bimbox/v1/",timeout:2e3,headers:{Authorization:"Bearer "+window.sessionStorage.TOKEN}}),l=function(){return s({url:"Login",method:"post",data:{userName:"bimbox",password:"123789"}})},c=function(){s({url:"ChartA",method:"get"})},d=n("Rae6"),h=n.n(d),u=n("JCRo"),m=n.n(u),f=n("mOMt"),g=this,_=void 0,p=void 0,w=void 0,v="361efc62c7fa48bba108512565f9ccf5",b=(a=m()(h.a.mark(function e(t){var n,i,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return function(e){console.log(e)},(n=new f.b).viewToken=v,e.next=5,f.a.load(n);case 5:"3DView"==e.sent.viewType&&(i=document.getElementById(t),(o=new f.c.Bimface.Application.WebApplication3DConfig).domElement=i,o.globalUnit=f.c.Bimface.Common.Units.LengthUnits.Millimeter,o.enableCSMShadow=!0,_=new f.c.Bimface.Application.WebApplication3D(o),(p=_.getViewer()).loadModel({viewToken:v}),p.addEventListener(f.c.Bimface.Viewer.Viewer3DEvent.ViewAdded,function(){p.hideViewHouse();var e=new f.c.Web.Graphics.Color(12,19,72,0);p.setBackgroundColor(e),p.render();var t=new f.c.Bimface.Plugins.Anchor.AnchorManagerConfig;t.viewer=p,w=new f.c.Bimface.Plugins.Anchor.AnchorManager(t)}),p.addEventListener(f.c.Bimface.Viewer.Viewer3DEvent.MouseClicked,function(e){console.log(e)}));case 7:case"end":return e.stop()}},e,g)})),function(e){return a.apply(this,arguments)}),y={methods:{greet:function(){l().then(function(e){window.sessionStorage.TOKEN=e.data.token,console.log(e),c(),s({url:"ChartB",method:"get",params:{year:"2026"}}),s({url:"ChartB",method:"post",data:{year:"2026",data:[1,2,3,4]}}),s({url:"ChartB",method:"put",data:{year:"2028",data:[3,4,6]}})})},setColor:function(){_BIMViewer.setObjectColorByName("mesh_10_1")},faceColor:function(){var e,t;e=p.getModel(),t=new f.c.Web.Graphics.Color("#EE799F",.8),e.overrideComponentsColorById(["971034"],t),function(){var e=new f.c.Bimface.Plugins.Anchor.PrismPointConfig,t=p.getModel().getBoundingBoxById("971034");t&&(e.position.x=(t.max.x+t.min.x)/2,e.position.y=(t.max.y+t.min.y)/2,e.position.z=t.max.x),e.duration=1500,e.size=3500;var n=new f.c.Bimface.Plugins.Anchor.PrismPoint(e);w.addItem(n)}()}}},B={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"the-icon"},[t("button",{staticClass:"icon-title",on:{click:this.faceColor}},[this._v("标签A")]),this._v(" "),t("img",{staticClass:"icon-img",attrs:{src:n("+fMA"),alt:""}})])},staticRenderFns:[]};var C={name:"BIMFooter",components:{BIMIcon:n("owSs")(y,B,!1,function(e){n("yZBG")},"data-v-07a0884e",null).exports}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"BIM-footer"},[t("BIMIcon")],1)},staticRenderFns:[]};var M=n("owSs")(C,S,!1,function(e){n("DhNm")},"data-v-3390aea3",null).exports,x={name:"BIMContent",props:{ModifiedHeight:{type:String,required:!0},ModifiedTile:{type:String,required:!0}}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"BIM-content",style:{height:this.ModifiedHeight}},[t("div",{staticClass:"BIM-title"},[t("div",{staticClass:"title-column"}),this._v(" "),t("p",{staticClass:"title-content"},[this._v(this._s(this.ModifiedTile))])]),this._v(" "),t("div",{staticClass:"BIM-charts"},[this._t("default")],2)])},staticRenderFns:[]};var A=n("owSs")(x,I,!1,function(e){n("C0zD")},"data-v-7295091a",null).exports,E=n("/ji0"),F={name:"bimChartA",mounted:function(){this.myEcharts()},methods:{greet:function(){l().then(function(e){window.sessionStorage.TOKEN=e.data.token,console.log(e),c()})},myEcharts:function(){E.b(document.getElementById("bimChartA")).setOption({tooltip:{trigger:"axis"},legend:{data:["DateA","DateB","DateC"],right:"0.5%",top:"3%",textStyle:{color:"rgba(255,255,255,1)",fontStyle:"PingFangSC-Regular"}},grid:{left:"3",right:"20",bottom:"15",top:"50",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,show:!0,onZero:!0,axisLine:{lineStyle:{color:"rgba(64,93,130,1)",width:1}},data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLabel:{color:"rgba(150,199,202,1)",fontStyle:"PingFangSC-Regular",fontSize:14}},yAxis:{type:"value",axisLine:{show:!0,lineStyle:{color:"rgba(64,93,130,1)",width:1}},axisTick:{show:!0,lineStyle:{color:"rgba(64,93,130,1)",width:1}},splitLine:{lineStyle:{color:"rgba(64,93,130,1)",width:1}},axisLabel:{color:"rgba(150,199,202,1)",fontStyle:"PingFangSC-Regular",fontSize:14}},series:[{name:"DateA",type:"line",stack:"Total",data:[120,132,101,134,90,230,210],lineStyle:{color:"rgba(74,136,255,1)",width:2},itemStyle:{color:"rgba(74,136,255,1)",borderWidth:2}},{name:"DateB",type:"line",stack:"Total",data:[220,182,191,234,290,330,310],lineStyle:{color:"rgba(33,245,255,1)"},itemStyle:{color:"rgba(33,245,255,1)",borderWidth:2}},{name:"DateC",type:"line",stack:"Total",data:[150,232,201,154,190,330,410],lineStyle:{color:"rgba(222,188,76,1)",width:2},itemStyle:{color:"rgba(222,188,76,1)",borderWidth:2}}]})}}},D={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"bimChartA"}})},staticRenderFns:[]};var T={name:"bimChartB",mounted:function(){this.myEcharts()},methods:{myEcharts:function(){var e=E.b(document.getElementById("bimChartB")),t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2025","2026"],right:"0.5%",top:"3%",icon:"rect",itemWidth:44,itemHeight:15,textStyle:{color:"rgba(255,255,255,1)",fontStyle:"PingFangSC-Regular",fontSize:"12px"}},grid:{left:"3",right:"20",bottom:"20",top:"50",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],splitLine:{lineStyle:{color:"rgba(64,93,130,1)"}},axisLine:{show:!0,lineStyle:{color:"rgba(64,93,130,1)"}},axisLabel:{color:"rgba(150,199,202,1)",fontStyle:"PingFangSC-Regular",fontSize:"12px"}},yAxis:{type:"category",data:["DataA","DataB","DataC","DataE","DataF","DataG"],axisLabel:{color:"rgba(150,199,202,1)",fontStyle:"PingFangSC-Regular",fontSize:"12px"},axisLine:{show:!0,lineStyle:{color:"rgba(64,93,130,1)"}},axisTick:{show:!0,lineStyle:{color:"rgba(64,93,130,1)"}}},series:[{name:"2025",type:"bar",data:[182,234,290,104,131,630],itemStyle:{color:new E.a.LinearGradient(0,1,1,0,[{offset:0,color:"rgba(76,239,187,0.03)"},{offset:1,color:"rgba(38, 225, 197, 1)"}])}},{name:"2026",type:"bar",data:[193,234,310,121,134,681],itemStyle:{color:new E.a.LinearGradient(0,1,1,0,[{offset:0,color:"rgba(63, 99, 135, 0.3)"},{offset:1,color:"rgba(45, 150, 255, 1)"}])}}]};e.setOption(t)}}},P={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"bimChartB"}})},staticRenderFns:[]};var L={name:"BIMLeftside",components:{BIMContent:A,BIMChartA:n("owSs")(F,D,!1,function(e){n("K1vz")},null,null).exports,BIMChartB:n("owSs")(T,P,!1,function(e){n("ZQTe")},null,null).exports},data:function(){return{AHeight:"40%",ATile:"体征指数A",BHeight:"50%",BTile:"体征指数B"}}},R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"BIM-leftside"},[t("BIMContent",{attrs:{ModifiedHeight:this.AHeight,ModifiedTile:this.ATile}},[t("BIMChartA")],1),this._v(" "),t("BIMContent",{attrs:{ModifiedHeight:this.BHeight,ModifiedTile:this.BTile}},[t("BIMChartB")],1)],1)},staticRenderFns:[]};var V=n("owSs")(L,R,!1,function(e){n("54t2")},null,null).exports,H=n("GZPq"),k=n.n(H),z=n("C3Fh"),O=n.n(z),j=n("7SzJ"),W=n.n(j),G=n("F1Uw"),N=n.n(G),$=n("xbCj"),Z=n("c/xz"),X=function(){function e(t){W()(this,e),this._models=new $.o,this._scene=new $._3,this._camera=new $.T(45,t.clientWidth/t.clientHeight,.1,1e3),this._renderer=new $._17,this._renderer.setClearColor(0,1),this._renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this._renderer.domElement);var n=new $.a(16777215,2),i=new $.j(16777215,3);i.position.set(200,200,100),this._scene.add(n),this._scene.add(i),this._controls=new Z.a(this._camera,this._renderer.domElement),this._controls.target.set(0,0,0),this._controls.minDistance=1,this._controls.maxDistance=500,this._controls.maxPolarAngle=Math.PI/2,this._controls.minPolarAngle=Math.PI/6,this._controls.enableDamping=!0,this._controls.dampingFactor=.05,this._controls.rotateSpeed=.5,this._controls.panSpeed=.8,this._controls.zoomSpeed=1.2,this._controls.enableTouch=!0}return N()(e,[{key:"addObject",value:function(e){var t=[].concat(O()(e)),n=!0,i=!1,o=void 0;try{for(var a,r=k()(t);!(n=(a=r.next()).done);n=!0){var s=a.value;this._models.add(s)}}catch(e){i=!0,o=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw o}}this._models.rotateX(-Math.PI/2),this._scene.add(this._models)}},{key:"setObjectColorByName",value:function(e){this._colorCache=null,this._originalColor=null;var t=this._models.getObjectByName(e);t?t?(this._originalColor=t.material.color.getHex(),t.material.color.setHex(255)):t&&t.material.color.setHex(originalColor):console.log("未找到名称为"+e+"的构件")}}]),e}(),J=n("QV4D"),K=n.n(J),U=n("2e3W"),q=function e(t,n){W()(this,e),this._raycaster=new $._1,this._bimViewer=n,this._mesh=null,this._intersection=null,this._lastIntersection=null,this._lastColor=null;var i=this,o=t.getBoundingClientRect();t.addEventListener("click",function(e){var t=new $._14(1,1);if(t.x=(e.clientX-o.left-o.width/2)/(o.width/2),t.y=-(e.clientY-o.top-o.height/2)/(o.height/2),i._raycaster.setFromCamera(t,i._bimViewer._camera),console.log("x:"+t.x+" + y:"+t.y),null!=i._bimViewer._models){var n=i._raycaster.intersectObject(i._bimViewer._models,!0);n.length>0?(i._intersection=n[0].object,console.log(i._intersection),null!=i._lastIntersection&&i._lastIntersection.material.color.set(i._lastColor),i._lastIntersection=i._intersection,i._lastColor=i._intersection.material.color.clone(),i._intersection.material.color.set(new $.i(16711680))):(null!=i._lastIntersection&&i._lastIntersection.material.color.set(i._lastColor),i._lastIntersection=null,i._lastColor=null)}})},Q={name:"bimScene",mounted:function(){var e,t,n=document.getElementById("container");null!=n&&(window._BIMViewer=new X(n),window._BIMRay=new q(n,_BIMViewer),(e="static/lod0/",t="modelHouse.gltf",new K.a(function(n,i){(new U.a).setPath(e).load(t,function(e){n(e.scene.children),console.log("模型载入成功")})})).then(function(e){window._BIMViewer.addObject(e)}),window._BIMViewer._camera.position.set(50,50,50),this.animate())},methods:{animate:function(){requestAnimationFrame(this.animate),_BIMViewer._controls.update(),_BIMViewer._renderer.render(_BIMViewer._scene,_BIMViewer._camera)}}},Y={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"container"}})},staticRenderFns:[]};var ee={name:"FaceScene",mounted:function(){b("bimface")}},te={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"bimface"}})},staticRenderFns:[]};var ne={name:"app",components:{BIMHeader:r,BIMFooter:M,BIMLeftside:V,BIMScene:n("owSs")(Q,Y,!1,function(e){n("9Av9")},null,null).exports,FaceScene:n("owSs")(ee,te,!1,function(e){n("8B9R")},null,null).exports}},ie={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("BIMHeader"),this._v(" "),t("BIMFooter"),this._v(" "),t("BIMLeftside"),this._v(" "),t("FaceScene")],1)},staticRenderFns:[]};var oe=n("owSs")(ne,ie,!1,function(e){n("XjgZ")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:oe},template:"<App/>"})},XjgZ:function(e,t){},ZQTe:function(e,t){},yZBG:function(e,t){}},["NHnr"]);